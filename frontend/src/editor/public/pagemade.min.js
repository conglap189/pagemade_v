/**
 * PageMade Editor Core (Customized GrapeJS)
 * Based on GrapeJS 0.22.13 - Built from local source
 * This is now PageMade Editor, not GrapeJS
 * 
 * IMPORTANT: Version 0.22.6+ required for scrollableCanvas feature
 * - hasAutoHeight() method for auto frame height
 * - Native ResizeObserver in FrameWrapView for dynamic height adjustment
 */

// Load the GrapeJS core from local build
(function() {
    const script = document.createElement('script');
    // Load from local build - use absolute path from root
    script.src = '/public/pagemade-core.min.js';
    script.onload = function() {
        // pagemade-core.min.js exports to window.pagemade directly (not window.grapesjs)
        // Just need to set window.pm alias
        window.pm = window.pagemade;
        
        // Add PageMade branding
        if (window.pm && window.pm.init) {
            console.log('‚úÖ PageMade Editor (pm) loaded successfully');
            console.log('üîß Based on GrapeJS 0.22.13 - Built from local source');
        } else {
            console.error('‚ùå PageMade loaded but init function not found');
        }
    };
    script.onerror = function() {
        console.error('‚ùå Failed to load PageMade Editor core from local');
        console.error('üí° Make sure pagemade-core.min.js exists in public/ folder');
    };
    document.head.appendChild(script);
})();
